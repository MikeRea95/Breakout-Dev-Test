var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.arrayFromIterator=function(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c};
$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(a){var b=function(){};b.prototype=a;return new b};
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};
$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var m=0;m<e.length-1;m++){var n=e[m];if(!(n in d))return;d=d[n]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&($jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+e,e=
$jscomp.propertyToPolyfillSymbol[e],$jscomp.defineProperty(d,e,{configurable:!0,writable:!0,value:b})))};
$jscomp.getConstructImplementation=function(){function a(){function c(){}new c;Reflect.construct(c,[],function(){});return new c instanceof c}if($jscomp.TRUST_ES6_POLYFILLS&&"undefined"!=typeof Reflect&&Reflect.construct){if(a())return Reflect.construct;var b=Reflect.construct;return function(c,d,e){c=b(c,d);e&&Reflect.setPrototypeOf(c,e.prototype);return c}}return function(c,d,e){void 0===e&&(e=c);e=$jscomp.objectCreate(e.prototype||Object.prototype);return Function.prototype.apply.call(c,e,d)||
e}};$jscomp.construct={valueOf:$jscomp.getConstructImplementation}.valueOf();$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;
$jscomp.inherits=function(a,b){a.prototype=$jscomp.objectCreate(b.prototype);a.prototype.constructor=a;if($jscomp.setPrototypeOf){var c=$jscomp.setPrototypeOf;c(a,b)}else for(c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.superClass_=b.prototype};$jscomp.polyfill("Reflect",function(a){return a?a:{}},"es6","es3");$jscomp.polyfill("Reflect.construct",function(a){return $jscomp.construct},"es6","es3");
$jscomp.polyfill("Reflect.setPrototypeOf",function(a){if(a)return a;if($jscomp.setPrototypeOf){var b=$jscomp.setPrototypeOf;return function(c,d){try{return b(c,d),!0}catch(e){return!1}}}return null},"es6","es5");$jscomp.checkEs6ConformanceViaProxy=function(){try{var a={},b=Object.create(new $jscomp.global.Proxy(a,{get:function(c,d,e){return c==a&&"q"==d&&e==b}}));return!0===b.q}catch(c){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;
$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(a){if(a)return a;var b=function(e,m){this.$jscomp$symbol$id_=e;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:m})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var c=0,d=function(e){if(this instanceof d)throw new TypeError("Symbol is not a constructor");return new b("jscomp_symbol_"+(e||"")+"_"+c++,e)};return d},"es6","es3");$jscomp.initSymbolIterator=function(){};
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=$jscomp.global[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&$jscomp.defineProperty(d.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.initSymbolAsyncIterator=function(){};$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};$jscomp.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};
$jscomp.polyfill("WeakMap",function(a){function b(){if(!a||!Object.seal)return!1;try{var f=Object.seal({}),h=Object.seal({}),l=new a([[f,2],[h,3]]);if(2!=l.get(f)||3!=l.get(h))return!1;l.delete(f);l.set(h,4);return!l.has(f)&&4==l.get(h)}catch(p){return!1}}function c(){}function d(f){var h=typeof f;return"object"===h&&null!==f||"function"===h}function e(f){if(!$jscomp.owns(f,n)){var h=new c;$jscomp.defineProperty(f,n,{value:h})}}function m(f){if(!$jscomp.ISOLATE_POLYFILLS){var h=Object[f];h&&(Object[f]=
function(l){if(l instanceof c)return l;Object.isExtensible(l)&&e(l);return h(l)})}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(b())return a;var n="$jscomp_hidden_"+Math.random();m("freeze");m("preventExtensions");m("seal");var q=0,g=function(f){this.id_=(q+=Math.random()+1).toString();if(f){f=$jscomp.makeIterator(f);for(var h;!(h=f.next()).done;)h=h.value,this.set(h[0],h[1])}};g.prototype.set=function(f,h){if(!d(f))throw Error("Invalid WeakMap key");
e(f);if(!$jscomp.owns(f,n))throw Error("WeakMap key fail: "+f);f[n][this.id_]=h;return this};g.prototype.get=function(f){return d(f)&&$jscomp.owns(f,n)?f[n][this.id_]:void 0};g.prototype.has=function(f){return d(f)&&$jscomp.owns(f,n)&&$jscomp.owns(f[n],this.id_)};g.prototype.delete=function(f){return d(f)&&$jscomp.owns(f,n)&&$jscomp.owns(f[n],this.id_)?delete f[n][this.id_]:!1};return g},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(a){function b(){if($jscomp.ASSUME_NO_NATIVE_MAP||!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var g=Object.seal({x:4}),f=new a($jscomp.makeIterator([[g,"s"]]));if("s"!=f.get(g)||1!=f.size||f.get({x:4})||f.set({x:4},"t")!=f||2!=f.size)return!1;var h=f.entries(),l=h.next();if(l.done||l.value[0]!=g||"s"!=l.value[1])return!1;l=h.next();return l.done||4!=l.value[0].x||"t"!=l.value[1]||!h.next().done?!1:!0}catch(p){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(b())return a;var c=new WeakMap,d=function(g){this.data_={};this.head_=n();this.size=0;if(g){g=$jscomp.makeIterator(g);for(var f;!(f=g.next()).done;)f=f.value,this.set(f[0],f[1])}};d.prototype.set=function(g,f){g=0===g?0:g;var h=e(this,g);h.list||(h.list=this.data_[h.id]=[]);h.entry?h.entry.value=f:(h.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:g,value:f},h.list.push(h.entry),
this.head_.previous.next=h.entry,this.head_.previous=h.entry,this.size++);return this};d.prototype.delete=function(g){g=e(this,g);return g.entry&&g.list?(g.list.splice(g.index,1),g.list.length||delete this.data_[g.id],g.entry.previous.next=g.entry.next,g.entry.next.previous=g.entry.previous,g.entry.head=null,this.size--,!0):!1};d.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=n();this.size=0};d.prototype.has=function(g){return!!e(this,g).entry};d.prototype.get=function(g){return(g=
e(this,g).entry)&&g.value};d.prototype.entries=function(){return m(this,function(g){return[g.key,g.value]})};d.prototype.keys=function(){return m(this,function(g){return g.key})};d.prototype.values=function(){return m(this,function(g){return g.value})};d.prototype.forEach=function(g,f){for(var h=this.entries(),l;!(l=h.next()).done;)l=l.value,g.call(f,l[1],l[0],this)};d.prototype[Symbol.iterator]=d.prototype.entries;var e=function(g,f){var h=f&&typeof f;"object"==h||"function"==h?c.has(f)?h=c.get(f):
(h=""+ ++q,c.set(f,h)):h="p_"+f;var l=g.data_[h];if(l&&$jscomp.owns(g.data_,h))for(g=0;g<l.length;g++){var p=l[g];if(f!==f&&p.key!==p.key||f===p.key)return{id:h,list:l,index:g,entry:p}}return{id:h,list:l,index:-1,entry:void 0}},m=function(g,f){var h=g.head_;return $jscomp.iteratorPrototype(function(){if(h){for(;h.head!=g.head_;)h=h.previous;for(;h.next!=h.head;)return h=h.next,{done:!1,value:f(h)};h=null}return{done:!0,value:void 0}})},n=function(){var g={};return g.previous=g.next=g.head=g},q=0;
return d},"es6","es3");$jscomp.polyfill("Array.prototype.fill",function(a){return a?a:function(b,c,d){var e=this.length||0;0>c&&(c=Math.max(0,e+c));if(null==d||d>e)d=e;d=Number(d);0>d&&(d=Math.max(0,e+d));for(c=Number(c||0);c<d;c++)this[c]=b;return this}},"es6","es3");$jscomp.typedArrayFill=function(a){return a?a:Array.prototype.fill};$jscomp.polyfill("Int8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
$jscomp.polyfill("Uint8ClampedArray.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Float32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
$jscomp.polyfill("Float64Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");var AssetManager$$module$src$core$AssetManager=function(a){this.engine=a;this.textures=new Map},module$src$core$AssetManager={};module$src$core$AssetManager.default=AssetManager$$module$src$core$AssetManager;var CanvasRenderer$$module$src$core$CanvasRenderer=function(a,b,c){this.engine=a;this.width=b;this.height=c;this.container=window.document.createElement("div");this.container.id="game-container";this.container.style.display="flex";this.container.style.justifyItems="center";this.container.style.alignItems="center";this.container.style.width="100%";this.container.style.height="100%";window.document.body.appendChild(this.container);this.canvas=window.document.createElement("canvas");this.canvas.style.backgroundColor=
"white";this.canvas.width=this.width;this.canvas.height=this.height;this.canvas.style.display="block";this.canvas.style.margin="auto";this.context=this.canvas.getContext("2d");this.container.appendChild(this.canvas)};CanvasRenderer$$module$src$core$CanvasRenderer.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)};var module$src$core$CanvasRenderer={};module$src$core$CanvasRenderer.default=CanvasRenderer$$module$src$core$CanvasRenderer;var SceneManager$$module$src$core$SceneManager=function(a){this.engine=a;this.scenes=[]};SceneManager$$module$src$core$SceneManager.prototype.add=function(a){-1==this.scenes.indexOf(a)&&this.scenes.push(a)};SceneManager$$module$src$core$SceneManager.prototype.remove=function(a){a.destroy()};SceneManager$$module$src$core$SceneManager.prototype.update=function(a){for(var b=0;b<this.scenes.length;b++){var c=this.scenes[b];c.destroyed||c.update(a);c.destroyed&&(this.scenes.splice(b,1),b--)}};
SceneManager$$module$src$core$SceneManager.prototype.render=function(a){this.scenes.forEach(function(b){b.destroyed||b.render(a)})};var module$src$core$SceneManager={};module$src$core$SceneManager.default=SceneManager$$module$src$core$SceneManager;var TimeManager$$module$src$core$TimeManager=function(a,b){var c=this;this.engine=a;this.lastStep=null;this.targetFps=b;this.deltaTime=1/this.targetFps;window.requestAnimationFrame(function(d){return c.step(d)})};TimeManager$$module$src$core$TimeManager.prototype.step=function(a){var b=this;if(null!=this.lastStep){var c=(a-this.lastStep)/1E3;c>1/this.targetFps&&(this.deltaTime=c,this.engine.loop(),this.lastStep=a)}else this.lastStep=a;window.requestAnimationFrame(function(d){return b.step(d)})};
var module$src$core$TimeManager={};module$src$core$TimeManager.default=TimeManager$$module$src$core$TimeManager;var Vector2$$module$src$core$math$Vector2=function(a,b){this.x=a;this.y=b};Vector2$$module$src$core$math$Vector2.prototype.multiply=function(a){this.x*=a.x;this.y*=a.y};Vector2$$module$src$core$math$Vector2.prototype.clone=function(){return new Vector2$$module$src$core$math$Vector2(this.x,this.y)};$jscomp.global.Object.defineProperties(Vector2$$module$src$core$math$Vector2.prototype,{length:{configurable:!0,enumerable:!0,get:function(){return sqrt(this.x+this.x*this.y+this.y)}}});
var module$src$core$math$Vector2={};module$src$core$math$Vector2.default=Vector2$$module$src$core$math$Vector2;var EventDispatcher$$module$src$core$events$EventDispatcher=function(){this.listeners=[]};EventDispatcher$$module$src$core$events$EventDispatcher.prototype.addEventListener=function(a,b,c){this.listeners.push(new EventListener$$module$src$core$events$EventDispatcher(a,b,void 0===c?null:c))};
EventDispatcher$$module$src$core$events$EventDispatcher.prototype.removeEventListener=function(a,b,c){c=void 0===c?null:c;for(var d=0;d<this.listeners.length;d++){var e=this.listeners[d];e.event==a&&e.callback==b&&e.callbackContext==c&&(this.listeners.splice(d,1),d--)}};EventDispatcher$$module$src$core$events$EventDispatcher.prototype.removeAllEventListeners=function(){this.listeners=[]};
EventDispatcher$$module$src$core$events$EventDispatcher.prototype.dispatchEvent=function(a,b){for(var c=0;c<this.listeners.length;c++){var d=this.listeners[c];d.event==a&&d.callback.bind(d.callbackContext)(b)}};var EventListener$$module$src$core$events$EventDispatcher=function(a,b,c){this.event=a;this.callback=b;this.callbackContext=c},module$src$core$events$EventDispatcher={};module$src$core$events$EventDispatcher.default=EventDispatcher$$module$src$core$events$EventDispatcher;var MouseEvent$$module$src$core$input$Mouse=function(){};$jscomp.global.Object.defineProperties(MouseEvent$$module$src$core$input$Mouse,{MOUSE_DOWN:{configurable:!0,enumerable:!0,get:function(){return"mouseDown"}},MOUSE_MOVE:{configurable:!0,enumerable:!0,get:function(){return"mouseMove"}},MOUSE_UP:{configurable:!0,enumerable:!0,get:function(){return"mouseUp"}}});
var Mouse$$module$src$core$input$Mouse=function(a){this.manager=a;this.isDown=!1;this.position=new Vector2$$module$src$core$math$Vector2(0,0);this.events=new EventDispatcher$$module$src$core$events$EventDispatcher;this.manager.engine.renderer.canvas.addEventListener("mousedown",this.onMouseDown.bind(this));this.manager.engine.renderer.canvas.addEventListener("mousemove",this.onMouseMove.bind(this));this.manager.engine.renderer.canvas.addEventListener("mouseup",this.onMouseUp.bind(this));this.manager.engine.renderer.container.addEventListener("mouseup",
this.onMouseUp.bind(this))};Mouse$$module$src$core$input$Mouse.prototype.onMouseDown=function(a){this.isDown=!0;this.position.x=a.offsetX;this.position.y=a.offsetY;this.events.dispatchEvent(MouseEvent$$module$src$core$input$Mouse.MOUSE_DOWN,this.position.clone())};Mouse$$module$src$core$input$Mouse.prototype.onMouseMove=function(a){this.position.x=a.offsetX;this.position.y=a.offsetY;this.events.dispatchEvent(MouseEvent$$module$src$core$input$Mouse.MOUSE_MOVE,this.position.clone())};
Mouse$$module$src$core$input$Mouse.prototype.onMouseUp=function(a){this.isDown=!1;this.events.dispatchEvent(MouseEvent$$module$src$core$input$Mouse.MOUSE_UP,this.position.clone())};var module$src$core$input$Mouse={};module$src$core$input$Mouse.MouseEvent=MouseEvent$$module$src$core$input$Mouse;module$src$core$input$Mouse.default=Mouse$$module$src$core$input$Mouse;var InputManager$$module$src$core$input$InputManager=function(a){this.engine=a;this.mouse=new Mouse$$module$src$core$input$Mouse(this)},module$src$core$input$InputManager={};module$src$core$input$InputManager.default=InputManager$$module$src$core$input$InputManager;var Engine$$module$src$core$Engine=function(a,b,c){this.renderer=new CanvasRenderer$$module$src$core$CanvasRenderer(this,a,b);this.scenes=new SceneManager$$module$src$core$SceneManager(this);this.time=new TimeManager$$module$src$core$TimeManager(this,c);this.assets=new AssetManager$$module$src$core$AssetManager(this);this.input=new InputManager$$module$src$core$input$InputManager(this);this.highScore=0};Engine$$module$src$core$Engine.prototype.getHeight=function(){return this.renderer.height};
Engine$$module$src$core$Engine.prototype.getWidth=function(){return this.renderer.width};Engine$$module$src$core$Engine.prototype.getHighScore=function(){return this.highScore};Engine$$module$src$core$Engine.prototype.loop=function(){this.update(this.time.deltaTime);this.render()};Engine$$module$src$core$Engine.prototype.update=function(a){this.scenes.update(a)};Engine$$module$src$core$Engine.prototype.render=function(){this.renderer.clear();this.scenes.render(this.renderer.context)};
var module$src$core$Engine={};module$src$core$Engine.default=Engine$$module$src$core$Engine;var Scene$$module$src$core$Scene=function(a){this.engine=a;this.entities=[];this.destroyed=!1};Scene$$module$src$core$Scene.prototype.update=function(a){for(var b=0;b<this.entities.length;b++){var c=this.entities[b];c.destroyed||c.update(a);c.destroyed&&(this.entities.splice(b,1),b--)}};Scene$$module$src$core$Scene.prototype.render=function(a){this.entities.forEach(function(b){b.destroyed||b.render(a)})};
Scene$$module$src$core$Scene.prototype.destroy=function(){for(this.destroyed=!0;0<this.entities.length;)this.entities.pop().destroy();this.entities=[]};$jscomp.global.Object.defineProperties(Scene$$module$src$core$Scene.prototype,{input:{configurable:!0,enumerable:!0,get:function(){return this.engine.input}}});var module$src$core$Scene={};module$src$core$Scene.default=Scene$$module$src$core$Scene;var FileType$$module$src$core$AssetLoader=function(){};$jscomp.global.Object.defineProperties(FileType$$module$src$core$AssetLoader,{TEXTURE:{configurable:!0,enumerable:!0,get:function(){return"texture"}}});var AssetLoader$$module$src$core$AssetLoader=function(a){this.scene=a;this.totalAssets=this.assetsLoaded=0;this.maxConcurrentRequests=1;this.currentLoads=0;this.loadQueue=[]};
AssetLoader$$module$src$core$AssetLoader.prototype.load=function(a,b,c){this.totalAssets++;var d=null;switch(c){case FileType$$module$src$core$AssetLoader.TEXTURE:d=this.loadTexture.bind(this,a,b);break;default:console.error("Unknown file type")}this.currentLoads<this.maxConcurrentRequests?(this.currentLoads++,d()):this.loadQueue.push(d)};
AssetLoader$$module$src$core$AssetLoader.prototype.loadTexture=function(a,b){var c=new Image;c.crossOrigin="anonymous";var d=new XMLHttpRequest;d.open("GET",b);d.responseType="blob";d.onload=function(){if(200===d.status){var e=window.URL.createObjectURL(d.response);c.src=e;this.scene.engine.assets.textures[a]=c;this.onAssetLoaded()}else this.onAssetFailed("Image didn't load successfully; error code:"+d.statusText)}.bind(this);d.onerror=function(){this.onAssetFailed("There was a network error.")}.bind(this);
d.send()};AssetLoader$$module$src$core$AssetLoader.prototype.onAssetFailed=function(a){console.error(a);this.onAssetLoaded()};AssetLoader$$module$src$core$AssetLoader.prototype.onAssetLoaded=function(){setTimeout(function(){this.currentLoads--;this.assetsLoaded++;if(this.currentLoads<this.maxConcurrentRequests&&0<this.loadQueue.length)(0,this.loadQueue.splice(0,1)[0])()}.bind(this),75)};var module$src$core$AssetLoader={};module$src$core$AssetLoader.FileType=FileType$$module$src$core$AssetLoader;
module$src$core$AssetLoader.default=AssetLoader$$module$src$core$AssetLoader;var Entity$$module$src$core$Entity=function(a,b,c){this.scene=a;this.scene.entities.push(this);this.localPosition=new Vector2$$module$src$core$math$Vector2(b,c);this.localRotation=0;this.localScale=new Vector2$$module$src$core$math$Vector2(1,1);this.components=[];this.children=[];this.parent=null;this.destroyed=!1};
Entity$$module$src$core$Entity.prototype.getPosition=function(){for(var a=this.localPosition.clone(),b=this.parent;null!=b;){a.multiply(b.localScale);var c=a.x,d=a.y,e=Math.sin(b.localRotation*Math.PI/180),m=Math.cos(b.localRotation*Math.PI/180);a.x=m*c-e*d;a.y=e*c+m*d;a.x+=b.localPosition.x;a.y+=b.localPosition.y;b=b.parent}return a};Entity$$module$src$core$Entity.prototype.getRotation=function(){for(var a=this.localRotation,b=this.parent;null!=b;)a+=b.localRotation,b=b.parent;return a};
Entity$$module$src$core$Entity.prototype.getScale=function(){for(var a=this.localScale.clone(),b=this.parent;null!=b;)a.x*=b.localScale.x,a.y*=b.localScale.y,b=b.parent;return a};Entity$$module$src$core$Entity.prototype.addChild=function(a){-1==this.children.indexOf(a)&&(this.children.push(a),a.parent=this)};Entity$$module$src$core$Entity.prototype.removeChild=function(a){var b=this.children.indexOf(a);-1!=b&&(this.children.splice(b,1),a.parent=null)};
Entity$$module$src$core$Entity.prototype.update=function(a){for(var b=0;b<this.components.length;b++){var c=this.components[b];c.destroyed||c.update(a);c.destroyed&&(this.components.splice(b,1),b--)}};Entity$$module$src$core$Entity.prototype.render=function(a){this.components.forEach(function(b){b.destroyed||b.render(a)})};
Entity$$module$src$core$Entity.prototype.destroy=function(){this.destroyed=!0;this.children.forEach(function(a){a.destroy()});this.children=[];this.components.forEach(function(a){a.destroy()});this.components=[]};var module$src$core$Entity={};module$src$core$Entity.default=Entity$$module$src$core$Entity;var Component$$module$src$core$components$Component=function(a){this.entity=a;this.entity.components.push(this);this.events=new EventDispatcher$$module$src$core$events$EventDispatcher;this.destroyed=!1};Component$$module$src$core$components$Component.prototype.update=function(a){};Component$$module$src$core$components$Component.prototype.render=function(a){};Component$$module$src$core$components$Component.prototype.destroy=function(){this.destroyed=!0;this.entity=null};
var module$src$core$components$Component={};module$src$core$components$Component.default=Component$$module$src$core$components$Component;var Image$$module$src$core$components$Image=function(a,b){Component$$module$src$core$components$Component.call(this,a);this.key=b;this.origin=new Vector2$$module$src$core$math$Vector2(.5,.5);a=this.entity.scene.engine.assets.textures[this.key];this.width=a.width;this.height=a.height};$jscomp.inherits(Image$$module$src$core$components$Image,Component$$module$src$core$components$Component);
Image$$module$src$core$components$Image.prototype.render=function(a){a.save();var b=this.entity.getPosition(),c=this.entity.getScale(),d=b.x;b=b.y;var e=c.x;c=c.y;var m=this.entity.getRotation();a.setTransform(1,0,0,1,d,b);a.rotate(m*Math.PI/180);a.drawImage(this.entity.scene.engine.assets.textures[this.key],-this.width*e*this.origin.x,-this.height*c*this.origin.y,this.width*e,this.height*c);a.restore()};Image$$module$src$core$components$Image.prototype.destroy=function(){Component$$module$src$core$components$Component.prototype.destroy.call(this)};
var module$src$core$components$Image={};module$src$core$components$Image.default=Image$$module$src$core$components$Image;var TextAlign$$module$src$core$components$TextField=function(){};$jscomp.global.Object.defineProperties(TextAlign$$module$src$core$components$TextField,{LEFT:{configurable:!0,enumerable:!0,get:function(){return"left"}},RIGHT:{configurable:!0,enumerable:!0,get:function(){return"right"}},CENTER:{configurable:!0,enumerable:!0,get:function(){return"center"}},START:{configurable:!0,enumerable:!0,get:function(){return"start"}},END:{configurable:!0,enumerable:!0,get:function(){return"end"}}});
var TextFieldConfig$$module$src$core$components$TextField=function(a,b,c,d,e){d=void 0===d?TextAlign$$module$src$core$components$TextField.LEFT:d;this.font=void 0===a?"Arial":a;this.size=void 0===b?"12px":b;this.color=void 0===c?"#000000":c;this.align=d;this.maxWidth=void 0===e?null:e},TextField$$module$src$core$components$TextField=function(a,b,c){c=void 0===c?null:c;Component$$module$src$core$components$Component.call(this,a);this.text=b;this.config=null;this.config=null==c?new TextFieldConfig$$module$src$core$components$TextField:
c};$jscomp.inherits(TextField$$module$src$core$components$TextField,Component$$module$src$core$components$Component);
TextField$$module$src$core$components$TextField.prototype.render=function(a){a.save();var b=this.entity.getPosition();this.entity.getScale();var c=b.x;b=b.y;var d=this.entity.getRotation();a.setTransform(1,0,0,1,c,b);a.rotate(d*Math.PI/180);a.font=this.config.size+" "+this.config.font;a.textAlign=this.config.align;a.fillStyle=this.config.color;null!=this.config.maxWidth?a.fillText(this.text,0,0,this.config.maxWidth):a.fillText(this.text,0,0);a.restore()};var module$src$core$components$TextField={};
module$src$core$components$TextField.TextAlign=TextAlign$$module$src$core$components$TextField;module$src$core$components$TextField.TextFieldConfig=TextFieldConfig$$module$src$core$components$TextField;module$src$core$components$TextField.default=TextField$$module$src$core$components$TextField;var Button$$module$src$core$components$Button=function(a,b,c,d,e,m){m=void 0===m?null:m;Component$$module$src$core$components$Component.call(this,a);this.onHoverCallback=d;this.onClickCallback=e;this.onClickCallbackContext=m;this.width=b;this.height=c;this.origin=new Vector2$$module$src$core$math$Vector2(.5,.5);this.hovering=!1;this.entity.scene.input.mouse.events.addEventListener(MouseEvent$$module$src$core$input$Mouse.MOUSE_DOWN,this.onMouseDown,this);this.entity.scene.input.mouse.events.addEventListener(MouseEvent$$module$src$core$input$Mouse.MOUSE_MOVE,
this.onMouseHover,this)};$jscomp.inherits(Button$$module$src$core$components$Button,Component$$module$src$core$components$Component);
Button$$module$src$core$components$Button.prototype.onMouseDown=function(a){var b=this.entity.getPosition(),c=this.entity.getScale();this.entity.getRotation();var d=b.x+this.width*c.x*(1-this.origin.x),e=b.y-this.height*c.y*this.origin.y,m=b.y+this.height*c.y*(1-this.origin.y);a.x>=b.x-this.width*c.x*this.origin.x&&a.x<=d&&a.y>=e&&a.y<=m&&null!=this.onClickCallback&&this.onClickCallback.bind(this.onClickCallbackContext)()};
Button$$module$src$core$components$Button.prototype.onMouseHover=function(a){var b=this.entity.getPosition(),c=this.entity.getScale();this.entity.getRotation();var d=b.x+this.width*c.x*(1-this.origin.x),e=b.y-this.height*c.y*this.origin.y,m=b.y+this.height*c.y*(1-this.origin.y);null!=this.onHoverCallback&&(a.x>=b.x-this.width*c.x*this.origin.x&&a.x<=d&&a.y>=e&&a.y<=m?this.hovering||(this.onHoverCallback.bind(this.onClickCallbackContext)(!0),this.hovering=!0):this.hovering&&(this.onHoverCallback.bind(this.onClickCallbackContext)(!1),
this.hovering=!1))};Button$$module$src$core$components$Button.prototype.destroy=function(){this.entity.scene.input.mouse.events.removeEventListener(MouseEvent$$module$src$core$input$Mouse.MOUSE_DOWN,this.onMouseDown,this);this.entity.scene.input.mouse.events.removeEventListener(MouseEvent$$module$src$core$input$Mouse.MOUSE_MOVE,this.onMouseHover,this)};var module$src$core$components$Button={};module$src$core$components$Button.default=Button$$module$src$core$components$Button;var PlayButton$$module$src$core$components$PlayButton=function(a,b,c){Component$$module$src$core$components$Component.call(this,a);this.entity=a;this.engine=b;this.scene=c};$jscomp.inherits(PlayButton$$module$src$core$components$PlayButton,Component$$module$src$core$components$Component);PlayButton$$module$src$core$components$PlayButton.prototype.setImage=function(a){this.image=a};PlayButton$$module$src$core$components$PlayButton.prototype.setButton=function(a){this.button=a};
PlayButton$$module$src$core$components$PlayButton.prototype.hoveredOver=function(a){a?(this.image.destroy(),this.image=new Image$$module$src$core$components$Image(this.entity,"playButtonHovered")):(this.image.destroy(),this.image=new Image$$module$src$core$components$Image(this.entity,"playButtonPurple"))};PlayButton$$module$src$core$components$PlayButton.prototype.buttonClicked=function(){this.scene.loadGame.call(this.scene)};PlayButton$$module$src$core$components$PlayButton.prototype.destroy=function(){Component$$module$src$core$components$Component.prototype.destroy.call(this)};
var module$src$core$components$PlayButton={};module$src$core$components$PlayButton.default=PlayButton$$module$src$core$components$PlayButton;var PauseButton$$module$src$core$components$PauseButton=function(a,b,c){Component$$module$src$core$components$Component.call(this,a);this.entity=a;this.engine=b;this.scene=c};$jscomp.inherits(PauseButton$$module$src$core$components$PauseButton,Component$$module$src$core$components$Component);PauseButton$$module$src$core$components$PauseButton.prototype.setImage=function(a){this.image=a};PauseButton$$module$src$core$components$PauseButton.prototype.setButton=function(a){this.button=a};
PauseButton$$module$src$core$components$PauseButton.prototype.hoveredOver=function(a){a&&!this.scene.paused?(this.image.destroy(),this.image=new Image$$module$src$core$components$Image(this.entity,"pauseButtonHovered")):(this.image.destroy(),this.image=new Image$$module$src$core$components$Image(this.entity,"pauseButton"))};PauseButton$$module$src$core$components$PauseButton.prototype.buttonClicked=function(){this.scene.paused||this.scene.pause.call(this.scene)};
PauseButton$$module$src$core$components$PauseButton.prototype.destroy=function(){Component$$module$src$core$components$Component.prototype.destroy.call(this)};var module$src$core$components$PauseButton={};module$src$core$components$PauseButton.default=PauseButton$$module$src$core$components$PauseButton;var ResumeButton$$module$src$core$components$ResumeButton=function(a,b,c){Component$$module$src$core$components$Component.call(this,a);this.entity=a;this.engine=b;this.scene=c};$jscomp.inherits(ResumeButton$$module$src$core$components$ResumeButton,Component$$module$src$core$components$Component);ResumeButton$$module$src$core$components$ResumeButton.prototype.setImage=function(a){this.image=a};ResumeButton$$module$src$core$components$ResumeButton.prototype.setButton=function(a){this.button=a};
ResumeButton$$module$src$core$components$ResumeButton.prototype.hoveredOver=function(a){a?(this.image.destroy(),this.image=new Image$$module$src$core$components$Image(this.entity,"pinkButtonHovered")):(this.image.destroy(),this.image=new Image$$module$src$core$components$Image(this.entity,"pinkButton"))};ResumeButton$$module$src$core$components$ResumeButton.prototype.buttonClicked=function(){this.scene.resume.call(this.scene)};
ResumeButton$$module$src$core$components$ResumeButton.prototype.destroy=function(){Component$$module$src$core$components$Component.prototype.destroy.call(this)};var module$src$core$components$ResumeButton={};module$src$core$components$ResumeButton.default=ResumeButton$$module$src$core$components$ResumeButton;var QuitButton$$module$src$core$components$QuitButton=function(a,b,c){Component$$module$src$core$components$Component.call(this,a);this.entity=a;this.engine=b;this.scene=c};$jscomp.inherits(QuitButton$$module$src$core$components$QuitButton,Component$$module$src$core$components$Component);QuitButton$$module$src$core$components$QuitButton.prototype.setImage=function(a){this.image=a};QuitButton$$module$src$core$components$QuitButton.prototype.setButton=function(a){this.button=a};
QuitButton$$module$src$core$components$QuitButton.prototype.hoveredOver=function(a){a?(this.image.destroy(),this.image=new Image$$module$src$core$components$Image(this.entity,"pinkButtonHovered")):(this.image.destroy(),this.image=new Image$$module$src$core$components$Image(this.entity,"pinkButton"))};QuitButton$$module$src$core$components$QuitButton.prototype.buttonClicked=function(){this.scene.quit.call(this.scene)};QuitButton$$module$src$core$components$QuitButton.prototype.destroy=function(){Component$$module$src$core$components$Component.prototype.destroy.call(this)};
var module$src$core$components$QuitButton={};module$src$core$components$QuitButton.default=QuitButton$$module$src$core$components$QuitButton;var PauseScene$$module$src$breakout$scenes$PauseScene=function(a,b){Scene$$module$src$core$Scene.call(this,a);this.engine=a;this.scene=b;b=new Entity$$module$src$core$Entity(this,a.getWidth()/2,a.getHeight()/2);new Image$$module$src$core$components$Image(b,"overlay");b=new Entity$$module$src$core$Entity(this,a.getWidth()/2,a.getHeight()/2);new Image$$module$src$core$components$Image(b,"pauseBackground");b=new Entity$$module$src$core$Entity(this,a.getWidth()/2,a.getHeight()/2-60);new TextField$$module$src$core$components$TextField(b,
"PAUSE",new TextFieldConfig$$module$src$core$components$TextField("Arial","60px","#FFFFFF",TextAlign$$module$src$core$components$TextField.CENTER));b=new Entity$$module$src$core$Entity(this,a.getWidth()/2,a.getHeight()/2-50);new Image$$module$src$core$components$Image(b,"pauseLine");b=new Entity$$module$src$core$Entity(this,a.getWidth()/2,a.getHeight()/2);this.resumeButton=new ResumeButton$$module$src$core$components$ResumeButton(b,this.engine,this);this.resumeButtonImage=new Image$$module$src$core$components$Image(b,
"pinkButton");this.resumeButtonButton=new Button$$module$src$core$components$Button(b,this.resumeButtonImage.width,this.resumeButtonImage.height,this.resumeButton.hoveredOver,this.resumeButton.buttonClicked,this.resumeButton);this.resumeButton.setButton.call(this.resumeButton,this.resumeButtonButton);this.resumeButton.setImage.call(this.resumeButton,this.resumeButtonImage);b=new Entity$$module$src$core$Entity(this,b.localPosition.x,b.localPosition.y+10);new TextField$$module$src$core$components$TextField(b,
"Resume",new TextFieldConfig$$module$src$core$components$TextField("Arial","36px","#FFFFFF",TextAlign$$module$src$core$components$TextField.CENTER));a=new Entity$$module$src$core$Entity(this,a.getWidth()/2,a.getHeight()/2+70);this.quitButton=new QuitButton$$module$src$core$components$QuitButton(a,this.engine,this);this.quitButtonImage=new Image$$module$src$core$components$Image(a,"pinkButton");this.quitButtonButton=new Button$$module$src$core$components$Button(a,this.quitButtonImage.width,this.quitButtonImage.height,
this.quitButton.hoveredOver,this.quitButton.buttonClicked,this.quitButton);this.quitButton.setButton.call(this.quitButton,this.quitButtonButton);this.quitButton.setImage.call(this.quitButton,this.quitButtonImage);a=new Entity$$module$src$core$Entity(this,a.localPosition.x,a.localPosition.y+10);new TextField$$module$src$core$components$TextField(a,"Quit",new TextFieldConfig$$module$src$core$components$TextField("Arial","36px","#FFFFFF",TextAlign$$module$src$core$components$TextField.CENTER))};
$jscomp.inherits(PauseScene$$module$src$breakout$scenes$PauseScene,Scene$$module$src$core$Scene);PauseScene$$module$src$breakout$scenes$PauseScene.prototype.resume=function(){this.scene.resume.call(this.scene)};PauseScene$$module$src$breakout$scenes$PauseScene.prototype.quit=function(){this.engine.scenes.add(new SplashScreen$$module$src$breakout$scenes$SplashScreen(this.engine));this.engine.scenes.remove(this.scene);this.engine.scenes.remove(this)};var module$src$breakout$scenes$PauseScene={};
module$src$breakout$scenes$PauseScene.default=PauseScene$$module$src$breakout$scenes$PauseScene;var Ball$$module$src$core$components$Ball=function(a){Component$$module$src$core$components$Component.call(this,a);this.entity=a;this.reset();this.speed=300;this.radius=15};$jscomp.inherits(Ball$$module$src$core$components$Ball,Component$$module$src$core$components$Component);
Ball$$module$src$core$components$Ball.prototype.move=function(a){this.launched&&(this.entity.localPosition=new Vector2$$module$src$core$math$Vector2(this.entity.localPosition.x+this.direction.x*a*this.speed,this.entity.localPosition.y-this.direction.y*a*this.speed))};Ball$$module$src$core$components$Ball.prototype.flipVertical=function(){this.direction.multiply(new Vector2$$module$src$core$math$Vector2(1,-1))};
Ball$$module$src$core$components$Ball.prototype.flipHorizontal=function(){this.direction.multiply(new Vector2$$module$src$core$math$Vector2(-1,1))};Ball$$module$src$core$components$Ball.prototype.reset=function(){this.direction=new Vector2$$module$src$core$math$Vector2(0,1);this.launched=!1};var module$src$core$components$Ball={};module$src$core$components$Ball.default=Ball$$module$src$core$components$Ball;var LivesController$$module$src$core$components$LivesController=function(a,b,c,d){Component$$module$src$core$components$Component.call(this,a);this.entity=a;this.livesLeft=1;this.lifeEntities=[b,c,d]};$jscomp.inherits(LivesController$$module$src$core$components$LivesController,Component$$module$src$core$components$Component);
LivesController$$module$src$core$components$LivesController.prototype.loseLife=function(){this.livesLeft--;for(i=0;i<this.lifeEntities.length;i++)i<this.livesLeft?(this.lifeEntities[i].components[0].destroy(),this.lifeEntities[i].components.shift(),new Image$$module$src$core$components$Image(this.lifeEntities[i],"lifeFull")):(this.lifeEntities[i].components[0].destroy(),this.lifeEntities[i].components.shift(),new Image$$module$src$core$components$Image(this.lifeEntities[i],"lifeEmpty"));0===this.livesLeft&&
this.gameOver()};LivesController$$module$src$core$components$LivesController.prototype.gameOver=function(){this.entity.scene.gameOver.call(this.entity.scene)};var module$src$core$components$LivesController={};module$src$core$components$LivesController.default=LivesController$$module$src$core$components$LivesController;var ReplayButton$$module$src$core$components$ReplayButton=function(a,b,c){Component$$module$src$core$components$Component.call(this,a);this.entity=a;this.engine=b;this.scene=c};$jscomp.inherits(ReplayButton$$module$src$core$components$ReplayButton,Component$$module$src$core$components$Component);ReplayButton$$module$src$core$components$ReplayButton.prototype.setImage=function(a){this.image=a};ReplayButton$$module$src$core$components$ReplayButton.prototype.setButton=function(a){this.button=a};
ReplayButton$$module$src$core$components$ReplayButton.prototype.hoveredOver=function(a){a?(this.image.destroy(),this.image=new Image$$module$src$core$components$Image(this.entity,"pinkButtonHovered")):(this.image.destroy(),this.image=new Image$$module$src$core$components$Image(this.entity,"pinkButton"))};ReplayButton$$module$src$core$components$ReplayButton.prototype.buttonClicked=function(){this.scene.replay.call(this.scene)};
ReplayButton$$module$src$core$components$ReplayButton.prototype.destroy=function(){Component$$module$src$core$components$Component.prototype.destroy.call(this)};var module$src$core$components$ReplayButton={};module$src$core$components$ReplayButton.default=ReplayButton$$module$src$core$components$ReplayButton;var GameOverScene$$module$src$breakout$scenes$GameOverScene=function(a,b){Scene$$module$src$core$Scene.call(this,a);this.engine=a;this.scene=b;b=new Entity$$module$src$core$Entity(this,a.getWidth()/2,a.getHeight()/2);new Image$$module$src$core$components$Image(b,"overlay");b=new Entity$$module$src$core$Entity(this,a.getWidth()/2,a.getHeight()/2);new Image$$module$src$core$components$Image(b,"gameOverBackground");b=new Entity$$module$src$core$Entity(this,a.getWidth()/2,150);new TextField$$module$src$core$components$TextField(b,
"GAME OVER",new TextFieldConfig$$module$src$core$components$TextField("Arial","60px","#FFFFFF",TextAlign$$module$src$core$components$TextField.CENTER));b=new Entity$$module$src$core$Entity(this,a.getWidth()/2,165);new Image$$module$src$core$components$Image(b,"gameOverLine");b=new Entity$$module$src$core$Entity(this,a.getWidth()/2,a.getHeight()/2+75);this.replayButton=new ReplayButton$$module$src$core$components$ReplayButton(b,this.engine,this);this.replayButtonImage=new Image$$module$src$core$components$Image(b,
"pinkButton");this.replayButtonButton=new Button$$module$src$core$components$Button(b,this.replayButtonImage.width,this.replayButtonImage.height,this.replayButton.hoveredOver,this.replayButton.buttonClicked,this.replayButton);this.replayButton.setButton.call(this.replayButton,this.replayButtonButton);this.replayButton.setImage.call(this.replayButton,this.replayButtonImage);var c=new Entity$$module$src$core$Entity(this,a.getWidth()/2,a.getHeight()/2-50);new TextField$$module$src$core$components$TextField(c,
"Score: "+this.scene.score,new TextFieldConfig$$module$src$core$components$TextField("Arial","62px","#FFFFFF",TextAlign$$module$src$core$components$TextField.CENTER));c=new Entity$$module$src$core$Entity(this,a.getWidth()/2,a.getHeight()/2);new TextField$$module$src$core$components$TextField(c,"High Score: "+this.engine.getHighScore(),new TextFieldConfig$$module$src$core$components$TextField("Arial","45px","#FFFFFF",TextAlign$$module$src$core$components$TextField.CENTER));b=new Entity$$module$src$core$Entity(this,
b.localPosition.x,b.localPosition.y+10);new TextField$$module$src$core$components$TextField(b,"Replay",new TextFieldConfig$$module$src$core$components$TextField("Arial","36px","#FFFFFF",TextAlign$$module$src$core$components$TextField.CENTER));a=new Entity$$module$src$core$Entity(this,a.getWidth()/2,a.getHeight()/2+155);this.quitButton=new QuitButton$$module$src$core$components$QuitButton(a,this.engine,this);this.quitButtonImage=new Image$$module$src$core$components$Image(a,"pinkButton");this.quitButtonButton=
new Button$$module$src$core$components$Button(a,this.quitButtonImage.width,this.quitButtonImage.height,this.quitButton.hoveredOver,this.quitButton.buttonClicked,this.quitButton);this.quitButton.setButton.call(this.quitButton,this.quitButtonButton);this.quitButton.setImage.call(this.quitButton,this.quitButtonImage);a=new Entity$$module$src$core$Entity(this,a.localPosition.x,a.localPosition.y+10);new TextField$$module$src$core$components$TextField(a,"Quit",new TextFieldConfig$$module$src$core$components$TextField("Arial",
"36px","#FFFFFF",TextAlign$$module$src$core$components$TextField.CENTER))};$jscomp.inherits(GameOverScene$$module$src$breakout$scenes$GameOverScene,Scene$$module$src$core$Scene);GameOverScene$$module$src$breakout$scenes$GameOverScene.prototype.replay=function(){this.engine.scenes.add(new GameScene$$module$src$breakout$scenes$GameScene(this.engine,!0));this.engine.scenes.remove(this.scene);this.engine.scenes.remove(this)};
GameOverScene$$module$src$breakout$scenes$GameOverScene.prototype.quit=function(){this.engine.scenes.add(new SplashScreen$$module$src$breakout$scenes$SplashScreen(this.engine));this.engine.scenes.remove(this.scene);this.engine.scenes.remove(this)};var module$src$breakout$scenes$GameOverScene={};module$src$breakout$scenes$GameOverScene.default=GameOverScene$$module$src$breakout$scenes$GameOverScene;var GameScene$$module$src$breakout$scenes$GameScene=function(a,b){b=void 0===b?!1:b;Scene$$module$src$core$Scene.call(this,a);this.paused=!0;this.engine=a;this.score=0;var c=new Entity$$module$src$core$Entity(this,a.getWidth()/2,a.getHeight()/2);new Image$$module$src$core$components$Image(c,"gameSceneBackground");c=new Entity$$module$src$core$Entity(this,40,40);this.pauseButton=new PauseButton$$module$src$core$components$PauseButton(c,this.engine,this);this.pauseButtonImage=new Image$$module$src$core$components$Image(c,
"pauseButton");this.pauseButtonButton=new Button$$module$src$core$components$Button(c,this.pauseButtonImage.width,this.pauseButtonImage.height,this.pauseButton.hoveredOver,this.pauseButton.buttonClicked,this.pauseButton);this.pauseButton.setButton.call(this.pauseButton,this.pauseButtonButton);this.pauseButton.setImage.call(this.pauseButton,this.pauseButtonImage);c=new Entity$$module$src$core$Entity(this,a.getWidth()/2,50);this.currentScoreText=new TextField$$module$src$core$components$TextField(c,
"Score: "+this.score,new TextFieldConfig$$module$src$core$components$TextField("Arial","42px","#FFFFFF",TextAlign$$module$src$core$components$TextField.CENTER));c=new Entity$$module$src$core$Entity(this,a.getWidth()/2,60);new Image$$module$src$core$components$Image(c,"scoreDashedLine");c=new Entity$$module$src$core$Entity(this,a.getWidth()/2,80);this.highScoreText=new TextField$$module$src$core$components$TextField(c,"High Score: "+a.getHighScore(),new TextFieldConfig$$module$src$core$components$TextField("Arial",
"16px","#FFFFFF",TextAlign$$module$src$core$components$TextField.CENTER));c=new Entity$$module$src$core$Entity(this,a.getWidth()-35,40);new TextField$$module$src$core$components$TextField(c,"Lives:",new TextFieldConfig$$module$src$core$components$TextField("Arial","16px","#FFFFFF",TextAlign$$module$src$core$components$TextField.CENTER));var d=new Entity$$module$src$core$Entity(this,a.getWidth()-50,50);new Image$$module$src$core$components$Image(d,"lifeFull");var e=new Entity$$module$src$core$Entity(this,
a.getWidth()-35,50);new Image$$module$src$core$components$Image(e,"lifeFull");var m=new Entity$$module$src$core$Entity(this,a.getWidth()-20,50);new Image$$module$src$core$components$Image(m,"lifeFull");this.livesController=new LivesController$$module$src$core$components$LivesController(c,d,e,m);this.bricks=[];for(i=0;4>i;i++)for(k=0;k<(3==i?5:6);k++)c=new Entity$$module$src$core$Entity(this,150*(k+1)+(3==i?75:0),125+50*i),new Image$$module$src$core$components$Image(c,"brick"),this.bricks.push(c);
this.paddleEntity=new Entity$$module$src$core$Entity(this,a.getWidth()/2,a.getHeight()-25);new Image$$module$src$core$components$Image(this.paddleEntity,"paddle");this.ballEntity=new Entity$$module$src$core$Entity(this,a.getWidth()/2,a.getHeight()-50);new Image$$module$src$core$components$Image(this.ballEntity,"ball");new Ball$$module$src$core$components$Ball(this.ballEntity);this.loaded=b;this.input.mouse.events.addEventListener(MouseEvent$$module$src$core$input$Mouse.MOUSE_DOWN,this.onMouseDown,
this);this.counter=0;this.paused=!1};$jscomp.inherits(GameScene$$module$src$breakout$scenes$GameScene,Scene$$module$src$core$Scene);GameScene$$module$src$breakout$scenes$GameScene.prototype.onMouseDown=function(){!this.paused&&this.loaded&&(this.ballEntity.components[1].launched=!0);this.loaded=!0};GameScene$$module$src$breakout$scenes$GameScene.prototype.pause=function(){this.paused=!0;this.pauseScene=new PauseScene$$module$src$breakout$scenes$PauseScene(this.engine,this);this.engine.scenes.add(this.pauseScene)};
GameScene$$module$src$breakout$scenes$GameScene.prototype.resume=function(){this.paused=!1;this.engine.scenes.remove(this.pauseScene)};
GameScene$$module$src$breakout$scenes$GameScene.prototype.update=function(a){this.paused||(this.counter++,this.moveMouse(),this.ballEntity.components[1].launched?(this.ballEntity.components[1].move.call(this.ballEntity.components[1],a),this.detectCollisions(),this.ballEntity.localPosition.y>this.engine.getHeight()&&(this.livesController.loseLife.call(this.livesController),this.ballEntity.components[1].reset.call(this.ballEntity.components[1]))):this.movePaddleWithMouse())};
GameScene$$module$src$breakout$scenes$GameScene.prototype.gameOver=function(){this.paused=!0;this.gameOverScene=new GameOverScene$$module$src$breakout$scenes$GameOverScene(this.engine,this);this.engine.scenes.add(this.gameOverScene)};
GameScene$$module$src$breakout$scenes$GameScene.prototype.moveMouse=function(){min=this.paddleEntity.components[0].width/2;max=this.engine.getWidth()-this.paddleEntity.components[0].width/2;x=Math.min(Math.max(this.engine.input.mouse.position.x,min),max);this.paddleEntity.localPosition=new Vector2$$module$src$core$math$Vector2(x,this.paddleEntity.localPosition.y)};
GameScene$$module$src$breakout$scenes$GameScene.prototype.movePaddleWithMouse=function(){this.ballEntity.localPosition=new Vector2$$module$src$core$math$Vector2(this.paddleEntity.localPosition.x,this.paddleEntity.localPosition.y-25)};
GameScene$$module$src$breakout$scenes$GameScene.prototype.detectCollisions=function(){for(i=0;i<this.bricks.length;i++)if(circleX=this.ballEntity.localPosition.x,circleY=this.ballEntity.localPosition.y,brick=this.bricks[i],!brick.destroyed&&(brickX=brick.localPosition.x,brickY=brick.localPosition.y,brickWidth=brick.components[0].width/2,brickHeight=brick.components[0].height/2,testX=circleX,testY=circleY,closestEdge="",circleX<brickX-brickWidth?(testX=brickX,closestEdge="Left"):circleX>brickX+brickWidth&&
(testX=brickX+brickWidth,closestEdge="Right"),circleY<brickY-brickHeight?(testY=brickY,closestEdge="Top"):circleY>brickY+brickHeight&&(testY=brickY+brickHeight,closestEdge="Bottom"),distX=circleX-testX,distY=circleY-testY,distance=Math.sqrt(distX*distX+distY*distY),distance<=this.ballEntity.components[1].radius)){"Bottom"===closestEdge||"Top"===closestEdge?this.ballEntity.components[1].flipVertical.call(this.ballEntity.components[1]):this.ballEntity.components[1].flipHorizontal.call(this.ballEntity.components[1]);
this.bricks.splice(this.bricks.indexOf(brick),1);brick.destroy();this.score++;this.currentScoreText.text="Score: "+this.score;this.engine.highScore=Math.max(this.score,this.engine.highScore);this.highScoreText.text="High Score: "+this.engine.highScore;break}0>this.ballEntity.components[1].direction.y&&this.ballEntity.localPosition.x>this.paddleEntity.localPosition.x-this.paddleEntity.components[0].width/2&&this.ballEntity.localPosition.x<this.paddleEntity.localPosition.x+this.paddleEntity.components[0].width/
2&&this.ballEntity.localPosition.y>this.paddleEntity.localPosition.y-this.ballEntity.components[0].height/2&&this.ballEntity.components[1].flipVertical.call(this.ballEntity.components[1])};GameScene$$module$src$breakout$scenes$GameScene.prototype.destroy=function(){Scene$$module$src$core$Scene.prototype.destroy.call(this);this.engine.input.mouse.events.removeEventListener(MouseEvent$$module$src$core$input$Mouse.MOUSE_DOWN,this.onMouseDown,this)};var module$src$breakout$scenes$GameScene={};
module$src$breakout$scenes$GameScene.default=GameScene$$module$src$breakout$scenes$GameScene;var SplashScreen$$module$src$breakout$scenes$SplashScreen=function(a){Scene$$module$src$core$Scene.call(this,a);this.engine=a;var b=new Entity$$module$src$core$Entity(this,a.getWidth()/2,a.getHeight()/2);new Image$$module$src$core$components$Image(b,"splashBackground");b=new Entity$$module$src$core$Entity(this,a.getWidth()/2,150);new Image$$module$src$core$components$Image(b,"gameTitleImage");b=new Entity$$module$src$core$Entity(this,a.getWidth()/2,200);new Image$$module$src$core$components$Image(b,
"gameTitleDashedLine");b=new Entity$$module$src$core$Entity(this,a.getWidth()/2,225);new TextField$$module$src$core$components$TextField(b,"High Score: "+a.getHighScore(),new TextFieldConfig$$module$src$core$components$TextField("Arial","16px","#FFFFFF",TextAlign$$module$src$core$components$TextField.CENTER));a=new Entity$$module$src$core$Entity(this,a.getWidth()/2,a.getHeight()-60);this.playButton=new PlayButton$$module$src$core$components$PlayButton(a,this.engine,this);this.playButtonImage=new Image$$module$src$core$components$Image(a,
"playButtonPurple");this.playButtonButton=new Button$$module$src$core$components$Button(a,this.playButtonImage.width,this.playButtonImage.height,this.playButton.hoveredOver,this.playButton.buttonClicked,this.playButton);this.playButton.setImage.call(this.playButton,this.playButtonImage);this.playButton.setButton.call(this.playButton,this.playButtonButton);b=new Entity$$module$src$core$Entity(this,a.localPosition.x,a.localPosition.y+10);new TextField$$module$src$core$components$TextField(b,"Play",
new TextFieldConfig$$module$src$core$components$TextField("Arial","34px","#FFFFFF",TextAlign$$module$src$core$components$TextField.CENTER));a=new Entity$$module$src$core$Entity(this,a.localPosition.x-a.components[1].width/2+30,a.localPosition.y);new Image$$module$src$core$components$Image(a,"playButtonImage")};$jscomp.inherits(SplashScreen$$module$src$breakout$scenes$SplashScreen,Scene$$module$src$core$Scene);
SplashScreen$$module$src$breakout$scenes$SplashScreen.prototype.loadGame=function(){this.engine.scenes.remove(this);this.engine.scenes.add(new GameScene$$module$src$breakout$scenes$GameScene(this.engine))};SplashScreen$$module$src$breakout$scenes$SplashScreen.prototype.update=function(a){Scene$$module$src$core$Scene.prototype.update.call(this,a)};var module$src$breakout$scenes$SplashScreen={};module$src$breakout$scenes$SplashScreen.default=SplashScreen$$module$src$breakout$scenes$SplashScreen;var LoadingScene$$module$src$breakout$scenes$LoadingScene=function(a){Scene$$module$src$core$Scene.call(this,a);this.engine=a;this.loader=new AssetLoader$$module$src$core$AssetLoader(this);this.loader.load("gameTitleImage","./assets/images/breakout-game-title.png",FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("gameTitleDashedLine","./assets/images/breakout-splash-dashed-line.png",FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("playButtonPurple","./assets/images/breakout-btn-purple.png",
FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("playButtonHovered","./assets/images/breakout-btn-purple-hover.png",FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("playButtonImage","./assets/images/breakout-play-icon.png",FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("gameSceneBackground","./assets/images/breakout-gameplay-background.png",FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("pauseButton","./assets/images/breakout-btn-pause.png",
FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("pauseButtonHovered","./assets/images/breakout-btn-pause-hover.png",FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("scoreDashedLine","./assets/images/breakout-hud-score-dashed-line.png",FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("lifeFull","./assets/images/breakout-life-full.png",FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("lifeEmpty","./assets/images/breakout-life-empty.png",
FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("brick","./assets/images/breakout-enemy-brick.png",FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("paddle","./assets/images/breakout-player-paddle.png",FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("ball","./assets/images/breakout-ball.png",FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("overlay","./assets/images/breakout-overlay.png",FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("pauseBackground",
"./assets/images/breakout-pause-background.png",FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("pauseLine","./assets/images/breakout-pause-dashed-line.png",FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("pinkButton","./assets/images/breakout-btn-pink.png",FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("pinkButtonHovered","./assets/images/breakout-btn-pink-hover.png",FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("gameOverBackground",
"./assets/images/breakout-game-over-background.png",FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("gameOverLine","./assets/images/breakout-game-over-dashed-line.png",FileType$$module$src$core$AssetLoader.TEXTURE);var b=new Entity$$module$src$core$Entity(this,a.getWidth()/2,a.getHeight()/2);new Image$$module$src$core$components$Image(b,"splashBackground");b=new Entity$$module$src$core$Entity(this,a.getWidth()/2,a.getHeight()/2-55);new TextField$$module$src$core$components$TextField(b,
"Loading...",new TextFieldConfig$$module$src$core$components$TextField("Arial","16px","#FFFFFF",TextAlign$$module$src$core$components$TextField.CENTER));b=new Entity$$module$src$core$Entity(this,a.getWidth()/2,a.getHeight()/2-30);new Image$$module$src$core$components$Image(b,"loadingBarBackground");a=new Entity$$module$src$core$Entity(this,a.getWidth()/2,a.getHeight()/2-30);this.fill=new Image$$module$src$core$components$Image(a,"loadingBarFill");this.fill.origin=new Vector2$$module$src$core$math$Vector2(0,
.5);a.localPosition.x-=this.fill.width/2;this.totalFillWidth=this.fill.width};$jscomp.inherits(LoadingScene$$module$src$breakout$scenes$LoadingScene,Scene$$module$src$core$Scene);LoadingScene$$module$src$breakout$scenes$LoadingScene.prototype.update=function(a){Scene$$module$src$core$Scene.prototype.update.call(this,a);this.fill.width=this.totalFillWidth*this.loader.assetsLoaded/this.loader.totalAssets;this.loader.assetsLoaded==this.loader.totalAssets&&(this.engine.scenes.remove(this),this.engine.scenes.add(new SplashScreen$$module$src$breakout$scenes$SplashScreen(this.engine)))};
var module$src$breakout$scenes$LoadingScene={};module$src$breakout$scenes$LoadingScene.default=LoadingScene$$module$src$breakout$scenes$LoadingScene;var BootScene$$module$src$breakout$scenes$BootScene=function(a){Scene$$module$src$core$Scene.call(this,a);this.loader=new AssetLoader$$module$src$core$AssetLoader(this);this.loader.load("splashBackground","./assets/images/breakout-splash-background.png",FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("loadingBarBackground","./assets/images/breakout-loading-bar-background.png",FileType$$module$src$core$AssetLoader.TEXTURE);this.loader.load("loadingBarFill","./assets/images/breakout-loading-bar-fill.png",
FileType$$module$src$core$AssetLoader.TEXTURE)};$jscomp.inherits(BootScene$$module$src$breakout$scenes$BootScene,Scene$$module$src$core$Scene);BootScene$$module$src$breakout$scenes$BootScene.prototype.update=function(a){Scene$$module$src$core$Scene.prototype.update.call(this,a);this.loader.assetsLoaded==this.loader.totalAssets&&(this.engine.scenes.remove(this),this.engine.scenes.add(new LoadingScene$$module$src$breakout$scenes$LoadingScene(this.engine)))};
var module$src$breakout$scenes$BootScene={};module$src$breakout$scenes$BootScene.default=BootScene$$module$src$breakout$scenes$BootScene;var Breakout$$module$src$breakout$Breakout=function(a,b,c){Engine$$module$src$core$Engine.call(this,a,b,c);this.scenes.add(new BootScene$$module$src$breakout$scenes$BootScene(this))};$jscomp.inherits(Breakout$$module$src$breakout$Breakout,Engine$$module$src$core$Engine);var module$src$breakout$Breakout={};module$src$breakout$Breakout.default=Breakout$$module$src$breakout$Breakout;window.addEventListener("DOMContentLoaded",function(a){window.engine=new Breakout$$module$src$breakout$Breakout(1024,576,60)});var module$src$index={};
